"use strict";(self.webpackChunkegoexo_docs=self.webpackChunkegoexo_docs||[]).push([[653],{3905:(n,e,t)=>{t.d(e,{Zo:()=>s,kt:()=>k});var a=t(7294);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function l(n,e){if(null==n)return{};var t,a,o=function(n,e){if(null==n)return{};var t,a,o={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var p=a.createContext({}),m=function(n){var e=a.useContext(p),t=e;return n&&(t="function"==typeof n?n(e):r(r({},e),n)),t},s=function(n){var e=m(n.components);return a.createElement(p.Provider,{value:e},n.children)},d="mdxType",f={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(n,e){var t=n.components,o=n.mdxType,i=n.originalType,p=n.parentName,s=l(n,["components","mdxType","originalType","parentName"]),d=m(t),c=o,k=d["".concat(p,".").concat(c)]||d[c]||f[c]||i;return t?a.createElement(k,r(r({ref:e},s),{},{components:t})):a.createElement(k,r({ref:e},s))}));function k(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var i=t.length,r=new Array(i);r[0]=c;var l={};for(var p in e)hasOwnProperty.call(e,p)&&(l[p]=e[p]);l.originalType=n,l[d]="string"==typeof n?n:o,r[1]=l;for(var m=2;m<i;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1499:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>p,contentTitle:()=>r,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var a=t(7462),o=(t(7294),t(3905));const i={title:"EgoPose",sidebar_position:4},r=void 0,l={unversionedId:"annotations/ego_pose",id:"annotations/ego_pose",title:"EgoPose",description:"EgoPose annotations are currently not available. It is expected to be released",source:"@site/docs/annotations/ego_pose.md",sourceDirName:"annotations",slug:"/annotations/ego_pose",permalink:"/annotations/ego_pose",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"EgoPose",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Proficiency Estimation",permalink:"/annotations/proficiency_estimation"},next:{title:"Atomic Action Descriptions",permalink:"/annotations/atomic_descriptions"}},p={},m=[{value:"2D/3D Keypoints JSON Structure",id:"2d3d-keypoints-json-structure",level:2},{value:"JSON Structure",id:"json-structure",level:3},{value:"Metadata",id:"metadata",level:3},{value:"2D Annotations",id:"2d-annotations",level:3},{value:"3D Annotations",id:"3d-annotations",level:3},{value:"Joint Names",id:"joint-names",level:3},{value:"Camera Pose JSON Structure",id:"camera-pose-json-structure",level:2},{value:"Metadata",id:"metadata-1",level:3},{value:"Camera Matrices",id:"camera-matrices",level:3}],s={toc:m},d="wrapper";function f(n){let{components:e,...i}=n;return(0,o.kt)(d,(0,a.Z)({},s,i,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"important"},(0,o.kt)("p",{parentName:"admonition"},"EgoPose annotations are currently not available. It is expected to be released\non Jan 7th, 2024. We apologize for the inconvenience.")),(0,o.kt)("h1",{id:"egopose-annotations"},"EgoPose Annotations"),(0,o.kt)("p",null,"The ground truth of EgoPose is annotated at the timestamp level for each take. At each timestamp with valid annotations, a single set of global 3D keypoints are provided, along with the corresponding 2D keypoints on ego and exo cameras. "),(0,o.kt)("p",null,"Camera metadata for each take including intrinsic and extrinsic matrices are also provided in separate json files. We will describe the details below."),(0,o.kt)("h2",{id:"2d3d-keypoints-json-structure"},"2D/3D Keypoints JSON Structure"),(0,o.kt)("p",null,"For each take, the 2D and 3D keypoints are grouped by the frame number. One can use ",(0,o.kt)("inlineCode",{parentName:"p"},"frame_number")," as index to query annotations.    "),(0,o.kt)("p",null,"Example Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"import os\nimport json\n\ndataset_root_dir = \"<download_root_dir>\"\ntake_uid = \"<take_uid>\"\ntake_json_path = os.path.join(dataset_root_dir, \"annotations/egopose/train\", f\"{take_uid}.json\")\n\nann_data = json.load(open(take_json_path))\n\n# Example Python code to access 2D annotations for 'cam01' and 'cam02'\ncam01_annotations = ann_data['1175'][0]['annotation2D']['cam01']\ncam02_annotations = ann_data['1175'][0]['annotation2D']['cam02']\n\n# Example usage of 3D annotations for 'right_middle_2' joint\nright_middle_2_3d = ann_data['1175'][0]['annotation3D']['right_middle_2']\n")),(0,o.kt)("h3",{id:"json-structure"},"JSON Structure"),(0,o.kt)("p",null,"Here is a typical structure for EgoPose"),(0,o.kt)("p",null,"  Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "<frame_number>": [{\n      "metadata": {\n          "take_uid": (string),\n          "take_name": (string),\n          "frame_number": (int)\n      },\n      "annotation2D": {\n          "cam01":{\n              "<joint_name>": {\n                  "x": (float),\n                  "y": (float),\n                  "placement": (string)\n              },\n              ...\n          },\n          "cam02":{\n              "<joint_name>": {\n                  "x": (float),\n                  "y": (float),\n                  "placement": (string)\n              },\n              ...\n          },\n          "cam03":{\n              "<joint_name>": {\n                  "x": (float),\n                  "y": (float),\n                  "placement": (string)\n              },\n              ...\n          },\n          "cam04":{\n              "<joint_name>": {\n                  "x": (float),\n                  "y": (float),\n                  "placement": (string)\n              },\n              ...\n          },\n          "aria":{\n              "<joint_name>": {\n                  "x": (float),\n                  "y": (float),\n                  "placement": (string)\n              },\n              ...\n          },\n      },\n      "annotation3D": {\n          "<joint_name>": {\n              "x": (float),\n              "y": (float),\n              "z": (float),\n              "num_views_for_3d": (int)\n          },\n          "<joint_name>": {\n              "x": (float),\n              "y": (float),\n              "z": (float),\n              "num_views_for_3d":  (int)\n          },\n          ...\n      }\n  }],\n  ...\n}\n')),(0,o.kt)("h3",{id:"metadata"},"Metadata"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"take_uid"))," (String): Unique identifier for the take."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"take_name"))," (String): Name of the take."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"frame_number"))," (Integer): Frame number associated with the data.")),(0,o.kt)("h3",{id:"2d-annotations"},"2D Annotations"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"annotation2D"))," (Object): Contains 2D annotations from different cameras and perspectives."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"cam01")," to ",(0,o.kt)("inlineCode",{parentName:"strong"},"cam04"))," (Object): Annotations from individual cameras. For hand, an additional ",(0,o.kt)("inlineCode",{parentName:"p"},"aria")," camera is provided."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"joint_name"))," (Object): Coordinates and placement information for specific joints."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"x"))," (Float): X-coordinate."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"y"))," (Float): Y-coordinate."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"placement"))," (String): Indicates whether the annotation is manual or auto-generated.")))))))),(0,o.kt)("h3",{id:"3d-annotations"},"3D Annotations"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"annotation3D"))," (Object): Contains 3D annotations for specific joints."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"joint_name"))," (Object): Coordinates in 3D space and the number of views used for 3D annotation."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"x"))," (Float): Coordinates in 3D space."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"y"))," (Float): Coordinates in 3D space."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"z"))," (Float): Coordinates in 3D space."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"num_views_for_3d"))," (Integer): Number of views considered for 3D annotation.")))))),(0,o.kt)("h3",{id:"joint-names"},"Joint Names"),(0,o.kt)("p",null,"In EgoPose, body and hand are annotated separately. Please refer to seperate json for body and hand individually. The group of joint names adopted in body and hand annotations are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"joint_name")," for Body (17 in total):"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"left-shoulder"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-shoulder"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-knee"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-knee"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-elbow"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-elbow"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-eye"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-eye"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-wrist"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-wrist"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-ankle"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-ankle"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-hip"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-hip"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left-ear"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right-ear"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"nose")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Body Pose",src:t(3747).Z,width:"620",height:"313"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"joint_name")," for Hand (42 in total, 21 for left hand, 21 for right hand):")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"left_pinky_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_pinky_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_pinky_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_pinky_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_ring_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_ring_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_ring_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_ring_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_middle_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_middle_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_middle_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_middle_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_index_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_index_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_index_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_index_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_thumb_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_thumb_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_thumb_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_thumb_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"left_wrist"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_pinky_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_pinky_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_pinky_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_pinky_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_ring_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_ring_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_ring_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_ring_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_middle_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_middle_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_middle_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_middle_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_index_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_index_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_index_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_index_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_thumb_1"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_thumb_2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_thumb_3"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_thumb_4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"right_wrist")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Hand Pose",src:t(9300).Z,width:"577",height:"373"})),(0,o.kt)("h2",{id:"camera-pose-json-structure"},"Camera Pose JSON Structure"),(0,o.kt)("p",null,"For each take, the corresponding camera pose json contains the necessary information for each timestamp. A typical structure is as below: "),(0,o.kt)("p",null,"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "<frame_number>": {\n        "metadata": {\n            "take_uid": (string),\n            "take_name": (string),\n            "frame_number": (int)\n        },\n        "aria": {\n            "camera_intrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ],\n            "camera_extrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ]\n        },\n        "cam01": {\n            "camera_intrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ],\n            "camera_extrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ]\n        },\n        "cam02": {\n            "camera_intrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ],\n            "camera_extrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ]\n        },\n        "cam03": {\n            "camera_intrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ],\n            "camera_extrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ]\n        },\n        "cam04": {\n            "camera_intrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ],\n            "camera_extrinsics": [\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ],\n                [\n                    (float),\n                    (float),\n                    (float),\n                    (float)\n                ]\n            ]\n        }\n    },\n    ...\n}\n\n')),(0,o.kt)("h3",{id:"metadata-1"},"Metadata"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"take_uid"))," (String): Unique identifier for the take."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"take_name"))," (String): Name of the take."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"strong"},"frame_number"))," (Integer): Frame number associated with the data.")),(0,o.kt)("h3",{id:"camera-matrices"},"Camera Matrices"),(0,o.kt)("p",null,"For each camera, the intrinsic and extrinsic matrices are provided as 3x4 transformation matrices."))}f.isMDXComponent=!0},3747:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/bodypose-767701e861411ecf5e6cdd09905093e9.png"},9300:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/handpose-a66fdda631b4d0b90c38564ca2a717fe.png"}}]);